(()=>{"use strict";var t,e;(e=t||(t={})).REMOVE="REMOVE",e.GET_PRODUCTS="GET_PRODUCTS",e.EDIT_PRODUCT="EDIT_PRODUCT";let s=(t=>{const e=localStorage.getItem(t)||sessionStorage.getItem(t);return e?JSON.parse(e):{screen:"DASHBOARD",products:[]}})("STORE"),o=[];const r=e=>{const r=((e,s)=>{const{action:o,payload:r}=e;switch(o){case t.REMOVE:const e=s.products.filter((t=>t.uid!==r));return Object.assign(Object.assign({},s),{cart:e});case t.GET_PRODUCTS:return Object.assign(Object.assign({},s),{products:r});default:return s}})(e,JSON.parse(JSON.stringify(s)));s=r,((t,e,s=!1)=>{const o=s?sessionStorage:localStorage,r=JSON.stringify(e);o.setItem(t,r)})("STORE",r),o.forEach((t=>t.render()))},i=t=>{o=[...o,t]};var n;!function(t){t.uid="uid",t.image="image",t.description="description",t.category="category",t.price="price",t.rating="rating"}(n||(n={}));class c extends HTMLElement{static get observedAttributes(){return Object.keys(n)}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(t,e,s){t===n.price||t===n.rating||t===n.uid?this[t]=s?Number(s):void 0:this[t]=s,this.render()}render(){if(!this.shadowRoot)return;this.shadowRoot.innerHTML=`\n\n            <div class="product-card">\n                <img src="${this.image}" alt="Product Image">\n                <h2>${this.description}</h2>\n                <p>Category: ${this.category}</p>\n                <p>Price: $${this.price}</p>\n                <p>Rating: ${this.rating}</p>\n                <button class="delete-btn">Delete</button>\n            </div>\n        `;const e=this.shadowRoot.querySelector(".delete-btn");null==e||e.addEventListener("click",(()=>{var e;r((e=Number(this.uid),{action:t.REMOVE,payload:e}))}))}}customElements.define("product-item",c);class a extends HTMLElement{constructor(){super(),this.products=[],this.attachShadow({mode:"open"})}connectedCallback(){var t;this.render(),this.products=s.products;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".product-list");this.products.forEach((t=>{if(t.uid&&t.image&&t.description&&t.category&&t.price&&t.rating){const s=this.ownerDocument.createElement("product-item");s.setAttribute(n.uid,t.uid.toString()),s.setAttribute(n.image,t.image),s.setAttribute(n.description,t.description),s.setAttribute(n.category,t.category),s.setAttribute(n.price,t.price.toString()),s.setAttribute(n.rating,t.rating.toString()),null==e||e.appendChild(s)}else console.error("Product is missing required attributes:",t)}))}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <h2>Tasks</h2>\n            <div class="product-list">\n            </div>\n        ')}}customElements.define("product-list",a);class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),i(this)}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n           \n            <div class="dashboard">\n                <h1>product list</h1>\n                <product-list></product-list> \n            </div>\n        ')}}customElements.define("app-dashboard",d);class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),i(this)}connectedCallback(){this.render(),console.log(s)}render(){var t;if(this.shadowRoot&&(this.shadowRoot.innerHTML=""),"DASHBOARD"===s.screen){const e=document.createElement("app-dashboard");null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}else console.log("Not found");console.log(s.screen)}}customElements.define("app-container",u)})();